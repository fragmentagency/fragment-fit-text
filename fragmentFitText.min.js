"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(){var t,e=[];function i(){for(;e.length;)e[0](),e.shift()}function n(t){this.a=o,this.b=void 0,this.f=[];var e=this;try{t(function(t){!function t(e,i){if(e.a==o){if(i==e)throw new TypeError;var n=!1;try{var s=i&&i.then;if(null!=i&&"object"==(void 0===i?"undefined":_typeof(i))&&"function"==typeof s)return void s.call(i,function(i){n||t(e,i),n=!0},function(t){n||a(e,t),n=!0})}catch(t){return void(n||a(e,t))}e.a=0,e.b=i,r(e)}}(e,t)},function(t){a(e,t)})}catch(t){a(e,t)}}t=function(){setTimeout(i)};var o=2;function s(t){return new n(function(e){e(t)})}function a(t,e){if(t.a==o){if(e==t)throw new TypeError;t.a=1,t.b=e,r(t)}}function r(i){var n;n=function(){if(i.a!=o)for(;i.f.length;){var t=(s=i.f.shift())[0],e=s[1],n=s[2],s=s[3];try{0==i.a?n("function"==typeof t?t.call(void 0,i.b):i.b):1==i.a&&("function"==typeof e?n(e.call(void 0,i.b)):s(i.b))}catch(t){s(t)}}},e.push(n),1==e.length&&t()}n.prototype.g=function(t){return this.c(void 0,t)},n.prototype.c=function(t,e){var i=this;return new n(function(n,o){i.f.push([t,e,n,o]),r(i)})},window.Promise||(window.Promise=n,window.Promise.resolve=s,window.Promise.reject=function(t){return new n(function(e,i){i(t)})},window.Promise.race=function(t){return new n(function(e,i){for(var n=0;n<t.length;n+=1)s(t[n]).c(e,i)})},window.Promise.all=function(t){return new n(function(e,i){function n(i){return function(n){a[i]=n,(o+=1)==t.length&&e(a)}}var o=0,a=[];0==t.length&&e(a);for(var r=0;r<t.length;r+=1)s(t[r]).c(n(r),i)})},window.Promise.prototype.then=n.prototype.c,window.Promise.prototype.catch=n.prototype.g)}(),function(){function t(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function e(t){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(t)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(t,e){t.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"}function n(t){var e=t.a.offsetWidth,i=e+100;return t.f.style.width=i+"px",t.c.scrollLeft=i,t.b.scrollLeft=t.b.scrollWidth+100,t.g!==e&&(t.g=e,!0)}function o(e,i){function o(){var t=s;n(t)&&t.a.parentNode&&i(t.g)}var s=e;t(e.b,o),t(e.c,o),n(e)}function s(t,e){var i=e||{};this.family=t,this.style=i.style||"normal",this.weight=i.weight||"normal",this.stretch=i.stretch||"normal"}var a=null,r=null,l=null,h=null;function c(){return null===h&&(h=!!document.fonts),h}function d(t,e){return[t.style,t.weight,function(){if(null===l){var t=document.createElement("div");try{t.style.font="condensed 100px sans-serif"}catch(t){}l=""!==t.style.font}return l}()?t.stretch:"","100px",e].join(" ")}s.prototype.load=function(t,n){var s=this,l=t||"BESbswy",h=0,f=n||3e3,u=(new Date).getTime();return new Promise(function(t,n){if(c()&&!function(){if(null===r)if(c()&&/Apple/.test(window.navigator.vendor)){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);r=!!t&&603>parseInt(t[1],10)}else r=!1;return r}()){var p=new Promise(function(t,e){!function i(){(new Date).getTime()-u>=f?e():document.fonts.load(d(s,'"'+s.family+'"'),l).then(function(e){1<=e.length?t():setTimeout(i,25)},function(){e()})}()}),m=new Promise(function(t,e){h=setTimeout(e,f)});Promise.race([m,p]).then(function(){clearTimeout(h),t(s)},function(){n(s)})}else y=function(){function r(){var e;(e=-1!=y&&-1!=g||-1!=y&&-1!=v||-1!=g&&-1!=v)&&((e=y!=g&&y!=v&&g!=v)||(null===a&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),a=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=a&&(y==w&&g==w&&v==w||y==T&&g==T&&v==T||y==b&&g==b&&v==b)),e=!e),e&&(x.parentNode&&x.parentNode.removeChild(x),clearTimeout(h),t(s))}var c=new e(l),p=new e(l),m=new e(l),y=-1,g=-1,v=-1,w=-1,T=-1,b=-1,x=document.createElement("div");x.dir="ltr",i(c,d(s,"sans-serif")),i(p,d(s,"serif")),i(m,d(s,"monospace")),x.appendChild(c.a),x.appendChild(p.a),x.appendChild(m.a),document.body.appendChild(x),w=c.a.offsetWidth,T=p.a.offsetWidth,b=m.a.offsetWidth,function t(){if((new Date).getTime()-u>=f)x.parentNode&&x.parentNode.removeChild(x),n(s);else{var e=document.hidden;!0!==e&&void 0!==e||(y=c.a.offsetWidth,g=p.a.offsetWidth,v=m.a.offsetWidth,r()),h=setTimeout(t,50)}}(),o(c,function(t){y=t,r()}),i(c,d(s,'"'+s.family+'",sans-serif')),o(p,function(t){g=t,r()}),i(p,d(s,'"'+s.family+'",serif')),o(m,function(t){v=t,r()}),i(m,d(s,'"'+s.family+'",monospace'))},document.body?y():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),y()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),y())});var y})},"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=s:(window.FontFaceObserver=s,window.FontFaceObserver.prototype.load=s.prototype.load)}();var characters="ABCĆDEFGHIJKLMNOPQRSŠTUVWXYZŽabcćdefghijklmnopqrsštuvwxyzž1234567890‘?’“!”(%)[#]{@}/&<-+÷×=>®©$€£¥¢:;,.*",FitTextElement=function(){function t(e,i,n,o,s){_classCallCheck(this,t),this.element=e,this.type=e.hasAttribute("type")?e.getAttribute("type"):i,this.minSize=e.hasAttribute("min-size")?parseInt(e.getAttribute("min-size")):n,this.maxSize=e.hasAttribute("max-size")?parseInt(e.getAttribute("max-size")):o,this.textLineHeight=e.hasAttribute("line-height")?parseFloat(e.getAttribute("line-height")):s,this.size={width:this.element.offsetWidth,height:this.element.offsetHeight}}return t.prototype.fit=function(){var t=this.element.style.position;this.element.style.position="relative",this.addTestTag(),this.calculateLineHeight();var e=this.calculateSize();this.element.style.fontSize=e+"px",this.removeTestTag(),this.element.style.position=t},t.prototype.calculateSize=function(){var t=this.minSize,e=this.minSize;this.testTag.style.fontSize=this.minSize+"px";for(var i=this.minSize;i<this.maxSize;i++){this.testTag.style.fontSize=t+"px",this.testTag.style.lineHeight=t*this.textLineHeight+"px","oneline-height"!==this.type&&this.calculateLineHeight();var n=this.testElementRatios();if(n.height>1||n.width>1){t=e;break}e=t,t++}return t},t.prototype.testElementRatios=function(){if(-1!==["oneline-width","oneline-height"].indexOf(this.type)){var t=getComputedStyle(this.testTag),e=this.testTag.clientHeight;return{height:(e-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom))/this.lineHeight,width:this.testTag.scrollWidth/this.size.width}}return{height:this.testTag.offsetHeight/this.size.height,width:this.testTag.scrollWidth/this.size.width}},t.prototype.addTestTag=function(){this.testTag=document.createElement("span"),this.testTag.innerHTML=this.element.innerHTML,this.testTag.style.backgroundColor="purple",this.testTag.style.width="auto",this.testTag.style.position="absolute",this.testTag.style.top=0,this.testTag.style.left=0,this.testTag.style.fontSize=this.minSize+"px",this.testTag.style.visibility="hidden",this.testTag.style.paddingTop=this.getStyle("padding-top")+"px",this.testTag.style.paddingLeft=this.getStyle("padding-left")+"px",this.testTag.style.paddingRight=this.getStyle("padding-right")+"px",this.testTag.style.paddingBottom=this.getStyle("padding-bottom")+"px",this.element.appendChild(this.testTag)},t.prototype.removeTestTag=function(){this.element.removeChild(this.testTag)},t.prototype.calculateLineHeight=function(){if("oneline-height"==this.type){var t=getComputedStyle(this.element),e=this.element.clientHeight;e-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),this.lineHeight=e}else if("oneline-width"==this.type){var i=document.createElement("span");i.textContent=characters,i.style.width="auto",i.style.position="absolute",i.style.left=0,i.style.top=0,i.style.visibility="hidden",i.style.overflow="hidden",i.style.whiteSpace="nowrap",this.element.appendChild(i),this.lineHeight=i.offsetHeight,this.element.removeChild(i)}else this.lineHeight=-1},t.prototype.getStyle=function(t){return parseFloat(window.getComputedStyle(this.element,null).getPropertyValue(t))},t}(),FitText=function(){function t(e){var i=this;(_classCallCheck(this,t),this.elements=[],e)&&document.querySelectorAll(e).forEach(function(t){i.add(t)})}return t.prototype.add=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:99,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=void 0;if("string"==typeof t){if(!(s=document.querySelector(t)))return void console.log('FitText: The element "'+t+'" was not found')}else s=t;this.elements.push(new FitTextElement(s,e,i,n,o))},t.prototype.run=function(t,e){var i=this;if("string"==typeof t)new FontFaceObserver(t).load().then(function(){i._run()});else if(t instanceof Array){var n=[];t.forEach(function(t){var e=new FontFaceObserver(t);n.push(e.load())}),Promise.all(n).then(function(){i._run(),e&&e()})}else this._run(),e&&e()},t.prototype._run=function(){this.elements.forEach(function(t){t.fit()})},t}();